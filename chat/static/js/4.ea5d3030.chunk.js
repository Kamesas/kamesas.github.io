(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{19:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(a){n(e,a,t[a])})}return e}t.d(a,"a",function(){return r})},22:function(e,a,t){},29:function(e,a,t){"use strict";t.r(a);var n=t(19),r=t(2),l=t(3),o=t(5),s=t(4),i=t(6),c=t(0),m=t.n(c),u=(t(22),t(1));var d=function(e){function a(){var e,t;Object(r.a)(this,a);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(i)))).state={paramsFromAPI:null,isFormValid:!1,booking:"not booked",name:{value:"",type:"text",name:"name",placeholder:"Enter text here",errorMessage:"Complete the required field",valid:!1,dirty:!1},phoneNumber:{value:"",type:"text",name:"phoneNumber",placeholder:"Enter text here",errorMessage:"Enter a valid phoneNumber address",valid:!1,dirty:!1},subject:{value:"",type:"text",name:"subject",placeholder:"Enter text here"},message:{value:"",name:"message",placeholder:"Enter text here"}},t.onChangeHandler=function(e){var a,r=e.target,l=r.value,o=r.name,s=Object(n.a)({},t.state);switch(o){case"name":s.name.valid=!(a=l).match(/[^\w\s-']/gi)&&!a.match(/[^\D]/g),s.name.dirty=!0,s.name.value=l;break;case"phoneNumber":s.phoneNumber.valid=l.match(/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s.\/0-9]*$/g),s.phoneNumber.dirty=!0,s.phoneNumber.value=l;break;case"subject":s.subject.value=l;break;case"message":s.message.value=l}""!==s.phoneNumber.value&&""!==s.name.value&&""!==s.message.value?s.isFormValid=s.phoneNumber.valid&&s.name.valid:s.isFormValid=!1,t.setState(function(){return s})},t.submitHandler=function(e){e.preventDefault();var a=t.state.paramsFromAPI.survey,n=a.questions.question,r={survey:{id:a.id,question:[{id:n[0].id,answer:t.state.name.value},{id:n[1].id,answer:t.state.phoneNumber.value},{id:n[2].id,answer:t.state.subject.value},{id:n[3].id,answer:t.state.message.value}],skill:"All",userAgent:window.navigator.userAgent}};console.log("postOfflineSurvey ---\x3e ",r),Object(u.i)(JSON.stringify(r)).then(function(e){return console.log("postOfflineSurvey ---\x3e ",JSON.parse(e))})},t.closeChatWindow=function(){t.props.closeChatWindow()},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.g)().then(function(a){console.log("getRetrieveOfflineSUrvey ---\x3e ",JSON.parse(a.data));var t=JSON.parse(a.data);e.setState({paramsFromAPI:t})})}},{key:"render",value:function(){var e=this.state,a=e.name,t=e.phoneNumber,n=e.subject,r=e.message,l=e.isFormValid,o=e.paramsFromAPI;if(!this.state.paramsFromAPI)return"loading";var s=o.survey,i=s.questions.question;return m.a.createElement("div",{className:"FormOffline-window"},m.a.createElement("div",{className:"FormOffline-text"},s.header),m.a.createElement("form",{onSubmit:this.submitHandler,className:"FormOffline"},m.a.createElement("label",{className:"FormOffline-block",style:{order:i[0].order}},m.a.createElement("span",{className:"FormOffline-block__label"},i[0].label,"*"),m.a.createElement("input",{className:"FormOffline-block__input ".concat(!a.valid&&a.dirty&&"FormOffline-block__input__error"),type:a.type,value:a.value,name:a.name,placeholder:a.placeholder,onChange:this.onChangeHandler}),!a.valid&&a.dirty&&m.a.createElement("span",{className:"FormOffline-block__errorMessage"},a.errorMessage)),m.a.createElement("label",{className:"FormOffline-block",style:{order:i[1].order}},m.a.createElement("span",{className:"FormOffline-block__label"},i[1].label),m.a.createElement("input",{className:"FormOffline-block__input ".concat(!t.valid&&t.dirty&&""!==t.value&&"FormOffline-block__input__error"),type:t.type,value:t.value,name:t.name,placeholder:t.placeholder,onChange:this.onChangeHandler}),!t.valid&&t.dirty&&""!==t.value&&m.a.createElement("span",{className:"FormOffline-block__errorMessage"},t.errorMessage)),m.a.createElement("label",{className:"FormOffline-block",style:{order:i[2].order}},m.a.createElement("span",{className:"FormOffline-block__label"},i[2].label),m.a.createElement("input",{className:"FormOffline-block__input",type:n.type,value:n.value,name:n.name,placeholder:n.placeholder,onChange:this.onChangeHandler})),m.a.createElement("label",{className:"FormOffline-block",style:{order:i[3].order}},m.a.createElement("span",{className:"FormOffline-block__label"},i[3].label,"*"),m.a.createElement("textarea",{name:r.name,value:r.value,className:"textarea",placeholder:r.placeholder,onChange:this.onChangeHandler})),m.a.createElement("div",{className:"FormOffline-buttons",style:{order:20}},m.a.createElement("button",{onClick:this.closeChatWindow,className:"FormOffline-button FormOffline-button__cancel"},"Cancel"),m.a.createElement("button",{onClick:this.onSubmitForm,disabled:!l,className:"FormOffline-button FormOffline-button__start"},"Start"))))}}]),a}(c.Component);a.default=d}}]);
//# sourceMappingURL=4.ea5d3030.chunk.js.map
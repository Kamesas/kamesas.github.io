(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{19:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(a){n(e,a,t[a])})}return e}t.d(a,"a",function(){return r})},21:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(19),r=t(2),o=t(3),l=t(5),i=t(4),s=t(6),c=t(0),m=t.n(c),u=(t(21),t(1));function d(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var g=function(e){function a(){var e,t;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).state={isFormValid:!1,booking:"",email:{value:"",type:"email",name:"email",placeholder:"Enter text here",errorMessage:"Enter a valid email address. Format: you@domain.com",valid:!1,dirty:!1},name:{value:"",type:"text",name:"name",placeholder:"Enter text here",errorMessage:"Complete the required field",valid:!1,dirty:!1}},t.onChangeHandler=function(e){var a,r=e.target,o=r.value,l=r.name,i=Object(n.a)({},t.state);switch(l){case"email":i.email.valid=d(o),i.email.dirty=""!==o&&d(o),i.email.value=o;break;case"name":i.name.valid=!(a=o).match(/[^\w\s-']/gi)&&!a.match(/[^\D]/g),i.name.dirty=!0,i.name.value=o;break;case"select":i.booking=o}""!==i.name.value&&""!==i.booking?i.isFormValid=i.email.valid&&i.name.valid:i.isFormValid=!1,t.setState(function(){return i})},t.onBlurHandler=function(e){var a=Object(n.a)({},t.state);a.email.dirty=""!==e.target.value,t.setState(function(){return a})},t.onFocusHandler=function(e){var a=Object(n.a)({},t.state);a.email.dirty=!1,t.setState(function(){return a})},t.submitHandler=function(e){e.preventDefault();var a={};console.log("createPostBody ---\x3e ",t.createPostBody()),Object(u.h)(t.createPostBody()).then(function(e){console.log("createPostBody_headers ---\x3e ",e),Object(u.j)(JSON.stringify(a)).then(function(e){return console.log("postVisitorAuthRequest ---\x3e ",e)})}),t.props.isAgentOnline?t.props.showChat():t.props.showFormOffline()},t.createPostBody=function(){var e={request:{skill:"All",interactionTimeout:3e3,userAgent:window.navigator.userAgent,language:navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage}};return JSON.stringify(e)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.name,n=e.isFormValid,r=this.props.preChatSurvey.survey,o=r.questions.question;return m.a.createElement("div",{className:"login-window"},m.a.createElement("div",{className:"welcome-text",dangerouslySetInnerHTML:{__html:r.header}}),m.a.createElement("form",{onSubmit:this.submitHandler,className:"login-form"},m.a.createElement("label",{className:"login-form-block",style:{order:o[0].order}},m.a.createElement("span",{className:"login-form-block__label"},o[0].label,"*"),m.a.createElement("input",{className:"login-form-block__input ".concat(!t.valid&&t.dirty&&"login-form-block__input__error"),type:t.type,value:t.value,name:t.name,placeholder:t.placeholder,onChange:this.onChangeHandler}),!t.valid&&t.dirty&&m.a.createElement("span",{className:"login-form-block__errorMessage"},t.errorMessage)),m.a.createElement("label",{className:"login-form-block",style:{order:o[1].order}},m.a.createElement("span",{className:"login-form-block__label"},o[1].label,"*"),m.a.createElement("input",{className:"login-form-block__input ".concat(!a.valid&&a.dirty&&"login-form-block__input__error"),type:a.type,value:a.value,name:a.name,placeholder:a.placeholder,onChange:this.onChangeHandler,onBlur:this.onBlurHandler,onFocus:this.onFocusHandler}),!a.valid&&a.dirty&&m.a.createElement("span",{className:"login-form-block__errorMessage"},a.errorMessage)),m.a.createElement("label",{className:"login-form-block login-form-block__pseudoElem",style:{order:o[2].order}},m.a.createElement("span",{className:"login-form-block__label"},o[2].label,"*"),m.a.createElement("select",{name:"select",value:this.state.booking,className:"login-form-block__select",onChange:this.onChangeHandler,onFocus:this.checkValidity},m.a.createElement("option",{value:""},"Choose item from the list"),m.a.createElement("option",{value:o[2].entry[0].value},o[2].entry[0].displayValue),m.a.createElement("option",{value:o[2].entry[1].value},o[2].entry[1].displayValue),"})}")),m.a.createElement("button",{onClick:this.onSubmitForm,disabled:!n,className:"login-form-button",style:{order:20}},"Start")))}}]),a}(c.Component);a.default=g}}]);
//# sourceMappingURL=5.f7e42117.chunk.js.map